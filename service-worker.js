async function handleRequest(e){if("only-if-cached"===e.request.cache&&"same-origin"!==e.request.mode)return;const t=await fetch(e.request);if(0===e.request.url.indexOf("https://fonts.googleapis.com/css")&&t.status<400){const s=await caches.open("google-fonts-stylesheets"),n=await s.match(e.request);if(n)return n;const a=(await t.text()).replace(/}/g,"font-display: swap; }"),r=new Response(a,{headers:t.headers});return s.put(e.request,r.clone()),r}return t}self.addEventListener("fetch",e=>{e.respondWith(handleRequest(e))});